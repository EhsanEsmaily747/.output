import{_ as M}from"./Nav.54df0d50.js";import U from"./Icon.deda8fe1.js";import{_ as S}from"./Category.056d871a.js";import{_ as V,r,o as L,w as f,t as F,c as h,a as d,b as a,d as x,u as o,e as b,F as R,f as D,i as k,g as O,v as j,h as G,j as q,k as _,n as y,l as Z,p as z,m as H}from"./entry.dac6c7c1.js";import{u as J}from"./useAuth.55454f55.js";import{u as p}from"./navBar.css.33dbc752.js";import"./config.ea43d4ee.js";import"./CustomBtn.5376788d.js";const K=""+globalThis.__publicAssetsURL("Admin.jpg");const Q=v=>(z("data-v-b2382397"),v=v(),H(),v),W={class:"container"},X={class:"flex"},Y=q('<div class="flexColoum" data-v-b2382397><div class="" data-v-b2382397><img src="'+K+'" class="Ppic" alt="" data-v-b2382397></div><h2 class="name" data-v-b2382397>Administrator</h2><p class="email" data-v-b2382397>ehsanesmaily747@gmail.com</p></div>',1),aa={class:"grid"},sa={class:"info"},ea={class:"boxInfo"},ta={class:"boxInfo"},oa={class:"boxes"},na={class:"cats"},ia={class:"catsContainer"},la={key:0,class:"modal"},da=Q(()=>a("p",null,"Name:",-1)),ca={__name:"AdminPanel",async setup(v){let e,m,C=r({});const{decode:w,getToken:T}=J();let g=r("");L(()=>{g.value=T(),g.value&&(C.value=w(g.value))});const A=([e,m]=f(()=>p("http://api2.kdanish.com/api/v1/users/","$sfqBZtpBB1")),e=await e,m(),e),$=([e,m]=f(()=>p("http://api2.kdanish.com/api/v1/posts/","$EF05eIigpG")),e=await e,m(),e),I=([e,m]=f(()=>p("http://api2.kdanish.com/api/v1/categories/","$cat13il4Aw")),e=await e,m(),e);let u=r(F(I.data.value.list)),i=r(""),n=r(!1);const B=async()=>{if(i.value=="")i.value="Enter Name";else{const t=i.value;await p("http://api2.kdanish.com/api/v1/categories/",{method:"POST",body:{name:t}},"$Bc0UL6t2tk"),u.value.push({name:i.value}),i.value="",n.value=!1}},P=async t=>{const s=u.value.indexOf(t);u.value.splice(s,1),await p(`http://api2.kdanish.com/api/v1/categories/${t._id}`,{method:"DELETE"},"$uaLg7UCGO4")};return(t,s)=>{const N=M,c=U,E=S;return _(),h("div",null,[d(N),a("div",W,[a("div",X,[Y,a("div",aa,[a("div",sa,[a("div",ea,[d(c,{class:"infoIcons",name:"ei:user"}),a("p",null,x(o(A).data),1)]),a("div",ta,[d(c,{class:"infoIcons",name:"material-symbols-light:post-add"}),a("p",null,x(o($).data),1)])]),a("div",oa,[a("div",{class:"box",onClick:s[0]||(s[0]=l=>("navigateTo"in t?t.navigateTo:o(y))("/Manage/Users"))},[d(c,{class:"icon",name:"material-symbols:manage-accounts-outline-rounded"}),b(" Manage Users ")]),a("div",{class:"box",onClick:s[1]||(s[1]=l=>("navigateTo"in t?t.navigateTo:o(y))("/Manage/Posts"))},[d(c,{class:"icon",name:"material-symbols:folder-managed-outline-rounded"}),b(" Manage Posts ")]),a("div",{class:"box",onClick:s[2]||(s[2]=l=>("navigateTo"in t?t.navigateTo:o(y))(`/User/EditPost-${o(C).user.name.id}`))},[d(c,{class:"icon",name:"material-symbols:add-box-outline-rounded"}),b(" Create Posts ")])])])]),a("div",na,[a("div",ia,[(_(!0),h(R,null,D(o(u),l=>(_(),Z(E,{cat:l,onRemoveCat:P},null,8,["cat"]))),256))]),d(c,{class:"add",name:"material-symbols:add",onClick:s[3]||(s[3]=l=>k(n)?n.value=!o(n):n=!o(n))}),o(n)?(_(),h("div",la,[d(c,{class:"cross",onClick:s[4]||(s[4]=l=>k(n)?n.value=!1:n=!1),name:"gridicons:cross-small"}),da,O(a("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=l=>k(i)?i.value=l:i=l)},null,512),[[j,o(i)]]),a("div",null,[a("button",{class:"addBtn",onClick:B},"Add")])])):G("",!0)])])])}}},ha=V(ca,[["__scopeId","data-v-b2382397"]]);export{ha as default};
