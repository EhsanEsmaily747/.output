import{_ as x,u as w}from"./navBar.css.33dbc752.js";import{_ as C}from"./CustomBtn.5376788d.js";import{k as g,c as $,b as s,a,q as p,e as _,r as v,g as u,v as c,u as d,i as y,n as f}from"./entry.dac6c7c1.js";import k from"./Icon.deda8fe1.js";import{u as U}from"./useAuth.55454f55.js";import"./useModal.8b95bbe4.js";const I={class:"navbar flex"},S=s("p",{class:"logo"},"E&S BLOG",-1),P={class:"flex rightdev"},A={class:"navlist flex"},L={__name:"NavBar",props:{id:String},setup(b){return(m,e)=>{const l=x,r=C;return g(),$("header",null,[s("div",I,[S,s("div",P,[s("ul",A,[a(l,{class:"navItem",to:"/"},{default:p(()=>[_("Home")]),_:1}),a(l,{class:"navItem",to:"/StoryPage"},{default:p(()=>[_("Our History")]),_:1}),a(l,{class:"navItem",onClick:e[0]||(e[0]=o=>m.$emit("open-login"))},{default:p(()=>[_("Sign In")]),_:1})]),a(r,{text:"Get Started",onClick:e[1]||(e[1]=o=>m.$emit("open-sign"))})])])])}}},ms=L,B={class:"ModalContainer"},E={class:"ModalForm"},N=s("h2",{class:"Login-title"},"Login",-1),V={class:"input-field"},M=s("label",{for:"Email"},"Username",-1),q={class:"icon"},O={class:"input-field"},R=s("label",{for:"password"},"Password",-1),D={class:"icon"},T={class:"register-part"},F=s("label",{for:""},"Don't have an account?",-1),H={__name:"Login",setup(b){const{decode:m}=U(),e=v(""),l=v(""),r=async o=>{o.preventDefault();const n={username:e.value,password:l.value},{data:t}=await w("http://api2.kdanish.com/api/v1/users/login",{method:"POST",body:{userData:n}},"$ABNRyb1YFZ");if(console.log(t),t.value.message=="Wrong Password")alert("Wrong Password");else if(t.value.message=="Invalid Username")alert("Invalid Username");else{const i=JSON.stringify(t.value.token);localStorage.setItem("token",i);const h=m(i);h.isAdmin?f("/AdminPanel"):f(`/User/Profile-${h.id}`)}};return(o,n)=>{const t=k;return g(),$("div",B,[s("form",E,[a(t,{name:"material-symbols:close",class:"closeModal",onClick:n[0]||(n[0]=i=>o.$emit("close-modal"))}),N,s("div",V,[u(s("input",{class:"input",type:"text","onUpdate:modelValue":n[1]||(n[1]=i=>y(e)?e.value=i:null),required:""},null,512),[[c,d(e)]]),M,s("span",q,[a(t,{name:"material-symbols:person-rounded"})])]),s("div",O,[u(s("input",{class:"input",type:"password","onUpdate:modelValue":n[2]||(n[2]=i=>y(l)?l.value=i:null),required:""},null,512),[[c,d(l)]]),R,s("span",D,[a(t,{name:"material-symbols:lock"})])]),s("button",{class:"login-btn",onClick:r},"Login"),s("div",T,[F,s("span",{onClick:n[3]||(n[3]=i=>o.$emit("open-register"))},"Register")])])])}}},us=H,G={class:"ModalForm",action:""},J=s("h2",{class:"Login-title"},"Registeration",-1),W={class:"input-field"},j=s("label",{for:"Email"},"Username",-1),z={class:"icon"},Y={class:"input-field"},Z=s("label",{for:"Email"},"Email Address",-1),K={class:"icon"},Q={class:"input-field"},X=s("label",{for:"password"},"Password",-1),ss={class:"icon"},es={class:"register-part"},os=s("label",{for:""},"Already have an account?",-1),ts={__name:"Signup",setup(b){const{decode:m}=U(),e=v({username:"",email:"",password:"",isAdmin:!1}),l=async r=>{r.preventDefault();const o={username:e.value.username,email:e.value.email,password:e.value.password,isAdmin:e.value.isAdmin},{data:n}=await w("http://api2.kdanish.com/api/v1/users/signUp",{method:"POST",body:{newUser:o}},"$th2jmf2zCg");if(n.value.message=="User Exist")alert("User Exist"),e.value.email=e.value.username=e.value.password="";else{const t=JSON.stringify(n.value.token);localStorage.setItem("token",t);const i=m(t);f(`/User/Profile-${i.id}`)}};return(r,o)=>{const n=k;return g(),$("div",{class:"ModalContainer",onBlur:o[5]||(o[5]=t=>r.$emit("close-modal"))},[s("form",G,[a(n,{name:"material-symbols:close",class:"closeModal",onClick:o[0]||(o[0]=t=>r.$emit("close-modal"))}),J,s("div",W,[u(s("input",{class:"input",type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>d(e).username=t),required:""},null,512),[[c,d(e).username]]),j,s("span",z,[a(n,{name:"material-symbols:person-rounded"})])]),s("div",Y,[u(s("input",{class:"input",type:"email","onUpdate:modelValue":o[2]||(o[2]=t=>d(e).email=t),required:""},null,512),[[c,d(e).email]]),Z,s("span",K,[a(n,{name:"material-symbols:mail-rounded"})])]),s("div",Q,[u(s("input",{class:"input",type:"password","onUpdate:modelValue":o[3]||(o[3]=t=>d(e).password=t),required:""},null,512),[[c,d(e).password]]),X,s("span",ss,[a(n,{name:"material-symbols:lock"})])]),s("button",{class:"login-btn",onClick:l},"Register"),s("div",es,[os,s("span",{onClick:o[4]||(o[4]=t=>r.$emit("open-login"))},"Log In")])])],32)}}},cs=ts;export{ms as _,us as a,cs as b};
